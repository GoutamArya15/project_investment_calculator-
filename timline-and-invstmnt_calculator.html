function project_investment_calculator() {
    ob_start();
    ?>
    
    <div class="calculator_box projectinvestment_calc">
    <div class="calculator_form">
        <div class="tab">
        <button class="tablinks tab_button active" onclick="openCity(event, 'Booking')">Booking</button>
        <button class="tablinks tab_button" onclick="openCity(event, 'Payment_Estimates')">Payment
            Estimates</button>
    
        </div>
        <div id="Booking" class="tabcontent booking content_tab">
    
        <div class="buc_price">
            <label>BUC Price</label>
            <input type="text" placeholder="Enter the bus price" id="amount_value" oninput="amount_value_func()"
            value="1,000,000" class="dollar-icon-input">
            <input type="hidden" id="check_value_output" value="1">
        </div>
        <div class="Progressive-box-content">
            <div class="Progressive-line">
            <p>Within 2 Weeks</p>
            </div>
            <div class="vertical-tab">
            <div class="Progressive-content">
                <h6>PAY 5%> RECEIVE OTP (CHEQUE / CASHIER'S ORDER-CO)</h6>
                <p>Confirm law firm details and forward OTP copy to banker and lawfirm</p>
                <div class="input_colms">
                <div class="form_group">
                    <label>Enter Booking date</label>
                    <input type="date" onchange="change_amount()" id="current_date" name="somedate">
                </div>
                <div class="form_group">
                    <label>Deposit Amount (5%)</label>
                    <input type="number" id="diposit_amount" readonly placeholder="0" class="dollar-icon-input">
                </div>
                </div>
                <div class="Progressive-line">
                <p>WITHIN 3 WEEKS</p>
                </div>
                <div class="input_colms">
                <div class="form_group">
                    <label>Cancellation Penalty (1.25%)</label>
                    <input type="text" id="cancellation" readonly placeholder="0" class="dollar-icon-input">
                </div>
                <div class="form_group">
                    <label>Refundable (3.75%)</label>
                    <input type="text" id="refundable" readonly placeholder="0" class="dollar-icon-input">
                </div>
                </div>
            </div>
            </div>
        </div>
        <div class="Progressive-box-content">
            <div class="Progressive-line">
            <p class="third-line">Within 2 Weeks</p>
            </div>
            <div class="vertical-tab light-dot-sec">
            <div class="Progressive-content">
                <h6>Receive S&P</h6>
                <p>Confirm law firm details and forward OTP copy to banker and lawfirm. Ensure LO is signed
                prior to
                meeting law firm to exercise S&P</p>
                <div class="input_colms">
                <div class="form_group">
                    <label>3 Days from booking</label>
                    <input type="date" id="three_day" name="three_date">
                </div>
                </div>
            </div>
            </div>
        </div>
        <div class="Progressive-box-content">
            <div class="vertical-tab light-dot-third">
            <div class="Progressive-content">
                <h6>Exercise S&P</h6>
                <p>Ensure LO is signed prior to meeting law firm to exercise S&P. Ensure law firm apply CPF
                usage for stamp duty to IRAS + 15% completion, if applicable.</p>
                <div class="input_colms">
                <div class="form_group">
                    <label>21 Days from receive S&P</label>
                    <input type="date" id="two_weeks" name="two_weeks">
                </div>
                </div>
                <div class="Progressive-line">
                <p class="text-black pt-md-5 mt-md-5">Completion</p>
                </div>
            </div>
            </div>
        </div>
        <div class="Progressive-box-content">
            <div class="vertical-tab light-dot-four">
            <div class="Progressive-content">
                <h6>Pay Stamp Duty (Cheque/CO/CPF)</h6>
                <p>Ensure law firm apply CPF usage for stamp duty to IRAS + 15% completion, if applicable.
                Purchaser
                to pay balance down payment + progressive payment.</p>
                <div class="input_colms">
                <div class="form_group">
                    <label>14 Days from Exercise S&P</label>
                    <input type="date" id="complation">
                </div>
                <div class="form_group">
                    <label>BSD + ABSD, if applicable</label>
                    <input type="text" id="bsd" placeholder="0" readonly class="dollar-icon-input">
                </div>
                <div class="form_group">
                    <label>BSD - Buyers Stamp Duty</label>
                    <input type="text" id="bsd1" placeholder="0" readonly class="dollar-icon-input">
                </div>
                <div class="form_group">
                    <div class="Buyers-stemp">
                    <label>ABSD-Additional Buyers Stamp Duty</label>
                    <span class="more_options">More options</span>
                    </div>
                    <input type="text" value="0" id="absd" readonly placeholder="0" class="dollar-icon-input">
                </div>
                </div>
                <div class="Progressive-line">
                <p class="text-black pt-md-5 mt-md-5 pb-md-5">COMPLETION OF FOUNDATION WORK</p>
                </div>
            </div>
            </div>
        </div>
        <div class="Progressive-box-content">
            <div class="Progressive-line"></div>
            <div class="vertical-tab light-dot-four">
            <div class="Progressive-content">
                <h6>Pay 15% (Cheque/CO/CPF)</h6>
                <p>Purchaser to pay balance down payment + progressive payment. Developer will call for
                payment
                progressively.</p>
                <div class="input_colms">
                <div class="form_group">
                    <label>8 Weeks from Booking:</label>
                    <input type="date" id="eight_weeks" readonly>
                </div>
                <div class="form_group">
                    <label>Sum of 20% + SD</label>
                    <input type="text" id="fifteen_persant" readonly placeholder="0" class="dollar-icon-input">
                </div>
                <div class="form_group">
                    <label>Total Outlay</label>
                    <input type="text" id="total_sd" readonly placeholder="0" class="dollar-icon-input total_quality_main">
                </div>
                </div>
            </div>
            </div>
        </div>
        <div class="Progressive-box-content">
            <div class="Progressive-line last-line"></div>
            <div class="vertical-tab light-dot-six">
            <div class="Progressive-content">
                <h6>Pay 5% + 5% Loan (Cheque/CO/CPF/Cash/Loan)</h6>
                <p>Developer will call for payment progressively.</p>
                <div class="input_colms">
                <div class="form_group">
                    <label>Enter Launch Date</label>
                    <input type="date" id="launch_date" readonly>
                </div>
                <div class="form_group">
                    <label>Est. Foundation Stage <span>(6 Months from launch)</span>:</label>
                    <input type="date" id="stage" readonly>
                </div>
                <div class="form_group">
                    <label>Foundation Stage Top Up <span>(Cash CPF for LTV 75% to 70%)</span>:</label>
                    <input type="text" id="five_persant" placeholder="0" class="dollar-icon-input" readonly>
                </div>
                <div class="form_group">
                    <label>Additional Top Up:</label>
                    <input type="text" value="0" placeholder="0" class="dollar-icon-input" readonly>
                </div>
                <div class="form_group">
                    <label>Total Cash/CPF <span>(Cash/CPF for LTV below 70%)</span>:</label>
                    <input type="text" id="total_cpf" placeholder="0" class="dollar-icon-input" readonly>
                </div>
                </div>
            </div>
            </div>
        </div>
        </div>
        <div id="Payment_Estimates" class="tabcontent content_tab" style="display: none;">
        <!-- table  -->
        <div class="container">
            <input type="number" id="bucInput" value="10000" min="1000" />
            <span id="error_message" style="color: red;"></span>
            <table border="1px solid black" align="center" style="border-collapse: collapse;">
            <thead>
                <tr>
                <th>Stage</th>
                <th>Estimated Period From Launch</th>
                <th>Amount Disbursed by Cash/CPF</th>
                <th>Loan Disbursed by Bank %</th>
                <th>Amount Disbursed by Bank</th>
                <th>Estimated Monthly Interest</th>
                <th>Estimated Monthly Principal</th>
                <th>Est Monthly Mortgage Repayment</th>
                </tr>
            <tfoot>
                <tr>
                <td><b>Total:-</b></td>
                <td></td>
                <td>$0</td>
                <td>$0</td>
                <td>$0</td>
                <td></td>
                <td></td>
                <td></td>
                </tr>
            </tfoot>
            </thead>
            <tbody id="paymentTable">
                <!-- Rows will be added here by JS -->
            </tbody>
            </table>
        </div>
        <!-- table end  -->
        </div>
    </div>
    </div>
    <div class="more_option_model fade">
    <div class="model_inner">
        <div class="model_body">
        <div class="tab">
            <button class="tablinks tab_links active" onclick="openModel(event, 'Single')" id="single_button_tab">Single
    
            <button class="tablinks tab_links" id="joint_button_tab" onclick="openModel(event, 'JointMarried')">Joint
                (Married) </button>
            <button class="tablinks tab_links" id="joint_others_button_tab"
                onclick="openModel(event, 'JointOthers')">Joint (Others)</button>
        </div>
        <div id="Single" class="tabcontent tab_content">
            <div class="input_colms">
            <div class="form_group">
                <label>Buying For</label>
                <select name="" id="single_buying">
                <option value="0">First Property</option>
                <option value="1">Second Property</option>
                <option value="2">Third Property</option>
                <option value="3">Fourth Property</option>
                </select>
            </div>
            <div class="form_group">
                <label>Buyer Profile</label>
                <select name="" id="single_profile">
                <option value="0">SG Citizen/(US,NO,CH,IS,LI)</option>
                <option value="1">Singapore PR</option>
                <option value="2">Foreigner</option>
                <option value="3">Company Entity</option>
                </select>
            </div>
            </div>
            <button type="button" class="proceed" class="calcButton" data-proceed_btn="1"
            onclick="proceed_btn(1)">Proceed</button>
        </div>
        <div id="JointMarried" class="tabcontent tab_content" style="display: none;">
            <div class="input_colms">
            <div class="form_group">
                <label>Buying For</label>
                <select name="" id="Joint_buying1">
                <option value="0">First Property</option>
                <option value="1">Second Property</option>
                <option value="2">Third Property</option>
                <option value="3">Fourth Property</option>
                </select>
            </div>
            <div class="form_group">
                <label>Buyer Profile</label>
                <select name="" id="Joint_profile">
                <option value="0">SG Citizen/(US,NO,CH,IS,LI)</option>
                <option value="1">Singapore PR</option>
                <option value="2">Foreigner</option>
                <option value="3">Company Entity</option>
                </select>
            </div>
            </div>
            <div class="input_colms">
            <div class="form_group">
                <label>Buying For</label>
                <select name="" id="Joint_buying2">
                <option value="0">First Property</option>
                <option value="1">Second Property</option>
                <option value="2">Third Property</option>
                <option value="3">Fourth Property</option>
                </select>
            </div>
            <div class="form_group">
                <label>Buyer Profile</label>
                <select name="" id="Joint_profile2">
                <option value="0">SG Citizen/(US,NO,CH,IS,LI)</option>
                <option value="1">Singapore PR</option>
                <option value="2">Foreigner</option>
                <option value="3">Company Entity</option>
                </select>
            </div>
            </div>
            <button type="button" class="proceed" class="calcButton" data-proceed_btn="2"
            onclick="proceed_btn(2)">Proceed</button>
        </div>
        <div id="JointOthers" class="tabcontent tab_content" style="display: none;">
            <div class="input_colms">
            <div class="form_group">
                <label>Buying For</label>
                <select name="" id="others_buying">
                <option value="0">First Property</option>
                <option value="1">Second Property</option>
                <option value="2">Third Property</option>
                <option value="3">Fourth Property</option>
                </select>
            </div>
            <div class="form_group">
                <label>Buyer Profile</label>
                <select name="" id="other_profile">
                <option value="0">SG Citizen/(US,NO,CH,IS,LI)</option>
                <option value="1">Singapore PR</option>
                <option value="2">Foreigner</option>
                <option value="3">Company Entity</option>
                </select>
            </div>
            </div>
            <div class="input_colms">
            <div class="form_group">
                <label>Buying For</label>
                <select name="" id="others_buying2">
                <option value="0">First Property</option>
                <option value="1">Second Property</option>
                <option value="2">Third Property</option>
                <option value="3">Fourth Property</option>
                </select>
            </div>
            <div class="form_group">
                <label>Buyer Profile</label>
                <select name="" id="other_profile2">
                <option value="0">SG Citizen/(US,NO,CH,IS,LI)</option>
                <option value="1">Singapore PR</option>
                <option value="2">Foreigner</option>
                <option value="3">Company Entity</option>
                </select>
            </div>
            </div>
            <button type="button" class="proceed" class="calcButton" data-proceed_btn="3"
            onclick="proceed_btn(3)">Proceed</button>
        </div>
        </div>
    </div>
    </div>
    <script>
    function openModel(evt, ModelName) {
        let i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tab_content");
        for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tab_links");
        for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(ModelName).style.display = "block";
        evt.currentTarget.className += " active";
    }
    </script>
    <script>
    jQuery('.more_options').click(function () {
        jQuery('.more_option_model').addClass('show_pop');
        jQuery('html').removeClass('over_hide');
    });
    jQuery('.proceed').click(function () {
        // jQuery(this).removeClass('show_pop');
        jQuery('.more_option_model').removeClass('show_pop');
        // jQuery('html').removeClass('over_hide');
    });
    jQuery('.model_inner').click(function () {
        event.stopPropagation();
    });
    </script>
    <script>
    jQuery(document).ready(function () {
        let today = new Date().toISOString().split("T")[0];
    });
    jQuery(".more_options").click(function () {
        jQuery('.more_option_model').addClass('show_pop');
    })
    //this is the code when click on more option  sjcitijan

    let single = function sjCitijan(twentypersant, thertypersant, fivepersant, thirty, thirtyfive, sixty_persant,
        sixty_five_persant,bsd,total_cpf,total_sd,current) {
        if (document.getElementById("single_buying").value == "0" && document.getElementById("single_profile")
        .value == "0") {
        absd.value = "0";
        } else if (document.getElementById("single_buying").value == "1" && document.getElementById(
            "single_profile").value == "0") {
               let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
  //               alert(newbsdval)
                 let five = parseInt(document.getElementById("five_persant").value);
                  let total_bsd = twentypersant + bsd;
                  let total_sd_new = newbsdval+twentypersant;
                  let latest_sd_new = total_sd_new+twentypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                  document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = twentypersant;
                    
        } else if (document.getElementById("single_buying").value == "2" && document.getElementById(
            "single_profile").value == "0") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thirty;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thirty;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = thirty;
        } else if (document.getElementById("single_buying").value == "3" && document.getElementById(
            "single_profile").value == "0") {
                 let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thirty;
            //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thirty;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = thirty;
        }
        // check the single value in Singapore PR
   
          if (document.getElementById("single_buying").value == "0" && document.getElementById("single_profile")
        .value == "1") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+fivepersant;
            //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +fivepersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = fivepersant;
        } else if (document.getElementById("single_buying").value == "1" && document.getElementById(
            "single_profile").value == "1") {
              let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thirty;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thirty;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = thirty;
        } else if (document.getElementById("single_buying").value == "2" && document.getElementById(
            "single_profile").value == "1") {
               let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thirtyfive;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thirtyfive;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = thirtyfive;
        } else if (document.getElementById("single_buying").value == "3" && document.getElementById(
            "single_profile").value == "1") {
                           let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thirtyfive;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thirtyfive;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = thirtyfive;
        }
    
    
    
        // check the single value in forginer 
        if (document.getElementById("single_buying").value == "0" && document.getElementById("single_profile")
        .value == "2") {
                       let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = sixty_persant;
        } else if (document.getElementById("single_buying").value == "1" && document.getElementById(
            "single_profile").value == "2") {
                                 let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = sixty_persant;
        } else if (document.getElementById("single_buying").value == "2" && document.getElementById(
            "single_profile").value == "2") {
                       let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = sixty_persant;
        } else if (document.getElementById("single_buying").value == "3" && document.getElementById(
            "single_profile").value == "2") {
                                      let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = sixty_persant;
        }
        // check the single value in company entity 
        if (document.getElementById("single_buying").value == "0" && document.getElementById("single_profile")
        .value == "3") {
                                     let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = sixty_five_persant;
        } else if (document.getElementById("single_buying").value == "1" && document.getElementById(
            "single_profile").value == "3") {
                 let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = sixty_five_persant;
        } else if (document.getElementById("single_buying").value == "2" && document.getElementById(
            "single_profile").value == "3") {
                                                    let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = sixty_five_persant;
        } else if (document.getElementById("single_buying").value == "3" && document.getElementById(
            "single_profile").value == "3") {
              let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  absd.value = sixty_five_persant;
        }
    }
       var value1 = 0;
       var value2 = 0;
    let joint = function sjCitijan(twentypersant, thertypersant, fifty_persant,fivepersant, thirtyfive, sixty_persant, sixty_five_persant,bsd,total_cpf,total_sd) {
        // 1 sjcitijan
        if (document.getElementById("Joint_buying1").value == "0" && document.getElementById("Joint_profile")
        .value == "0") {
       // absd.value = "0";
        value1 =0;
        } else if (document.getElementById("Joint_buying1").value == "1" && document.getElementById(
            "Joint_profile").value == "0") {
                let mainamountval=document.getElementById("amount_value").value;
                let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
                let newbsdval=calculateBSD_new_price(amount_value_main);
                //alert(newbsdval)
                let five = parseInt(document.getElementById("five_persant").value);
                let total_bsd = twentypersant + bsd;
                let total_sd_new = newbsdval+twentypersant;
                let latest_sd_new = total_sd_new+twentypersant;
                let total_cpf = latest_sd_new+five;
                document.getElementById("bsd").value = total_sd_new;
                document.getElementById("total_sd").value = latest_sd_new;
                document.getElementById("total_cpf").value = total_cpf;
              //  absd.value = twentypersant;
                value1 = twentypersant;
        } else if (document.getElementById("Joint_buying1").value == "2" && document.getElementById(
            "Joint_profile").value == "0") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
               // alert(newbsdval)
                 let five = parseInt(document.getElementById("five_persant").value);
                  let total_bsd = twentypersant + bsd;
                  let total_sd_new = newbsdval+thertypersant;
                  let latest_sd_new = total_sd_new+thertypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                  document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thertypersant;
                  value1 = thertypersant;
        } else if (document.getElementById("Joint_buying1").value == "3" && document.getElementById(
            "Joint_profile").value == "0") {
                 let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
               // alert(newbsdval)
                 let five = parseInt(document.getElementById("five_persant").value);
                  let total_bsd = twentypersant + bsd;
                  let total_sd_new = newbsdval+thertypersant;
                  let latest_sd_new = total_sd_new+thertypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                  document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thertypersant;
                  value1 = thertypersant;
        }
        if (document.getElementById("Joint_buying2").value == "0" && document.getElementById("Joint_profile2")
        .value == "0") {
      //  absd.value = "0";
        value2 = 0;
        } else if (document.getElementById("Joint_buying2").value == "1" && document.getElementById(
            "Joint_profile2").value == "0") {
                value2 = twentypersant;
                 let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
               // alert(newbsdval)
                 let five = parseInt(document.getElementById("five_persant").value);
                  let total_bsd = twentypersant + bsd;
                  let total_sd_new = newbsdval+twentypersant;
                  let latest_sd_new = total_sd_new+twentypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                  document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = twentypersant;
        } else if (document.getElementById("Joint_buying2").value == "2" && document.getElementById(
            "Joint_profile2").value == "0") {
               let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
               // alert(newbsdval)
                 let five = parseInt(document.getElementById("five_persant").value);
                  let total_bsd = twentypersant + bsd;
                  let total_sd_new = newbsdval+thertypersant;
                  let latest_sd_new = total_sd_new+thertypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                  document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thertypersant;
                  value2 = thertypersant;
        } else if (document.getElementById("Joint_buying2").value == "3" && document.getElementById(
            "Joint_profile2").value == "0") {
              let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
               // alert(newbsdval)
                 let five = parseInt(document.getElementById("five_persant").value);
                  let total_bsd = twentypersant + bsd;
                  let total_sd_new = newbsdval+thertypersant;
                  let latest_sd_new = total_sd_new+thertypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                  document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = thertypersant;
                  value2 = thertypersant;
        }
        // 2 singa pur pr
        if (document.getElementById("Joint_buying1").value == "0" && document.getElementById("Joint_profile")
        .value == "1") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+fivepersant;
            //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +fivepersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
               //   absd.value = fivepersant;
                  value1 = fivepersant;
        } else if (document.getElementById("Joint_buying1").value == "1" && document.getElementById(
            "Joint_profile").value == "1") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thertypersant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thertypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = thertypersant;
                  value1 = thertypersant;
        } else if (document.getElementById("Joint_buying1").value == "2" && document.getElementById(
            "Joint_profile").value == "1") {
                  let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thirtyfive;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thirtyfive;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thirtyfive;
                  value1 = thertypersant;
        } else if (document.getElementById("Joint_buying1").value == "3" && document.getElementById(
            "Joint_profile").value == "1") {
                  let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thirtyfive;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thirtyfive;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thirtyfive;
                  value1 = thertypersant;
        }
        if (document.getElementById("Joint_buying2").value == "0" && document.getElementById("Joint_profile2")
        .value == "1") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+fivepersant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +fivepersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = fivepersant;
                  value2 = fivepersant;
        } else if (document.getElementById("Joint_buying2").value == "1" && document.getElementById(
            "Joint_profile2").value == "1") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thertypersant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thertypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thertypersant;
                  value2 = thertypersant;
        } else if (document.getElementById("Joint_buying2").value == "2" && document.getElementById(
            "Joint_profile2").value == "1") {
                let five = parseInt(document.getElementById("five_persant").value);
                let mainamountval=document.getElementById("amount_value").value;
                let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
                let newbsdval=calculateBSD_new_price(amount_value_main);
                let total_sd_new = newbsdval+twentypersant;
                let latest_sd_new=total_sd_new+thirtyfive;
                let total_cpf = latest_sd_new+five;
                document.getElementById("bsd").value = thirtyfive + bsd;
                document.getElementById("total_sd").value = latest_sd_new;
                document.getElementById("total_cpf").value = total_cpf;
               // absd.value = thirtyfive;
                value2 = thirtyfive;
        } else if (document.getElementById("Joint_buying2").value == "3" && document.getElementById(
            "Joint_profile2").value == "1") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thirtyfive;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thirtyfive;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thirtyfive;
                  value2 = thirtyfive;
        }
        // 3  forginner 
        if (document.getElementById("Joint_buying1").value == "0" && document.getElementById("Joint_profile")
        .value == "2") {
             let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = sixty_persant;
                  value1 = sixty_persant
        } else if (document.getElementById("Joint_buying1").value == "1" && document.getElementById(
            "Joint_profile").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                //  absd.value = sixty_persant
                  value1 = sixty_persant
        } else if (document.getElementById("Joint_buying1").value == "2" && document.getElementById(
            "Joint_profile").value == "3") {
       let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_persant
                  value1 = sixty_persant
        } else if (document.getElementById("Joint_buying1").value == "3" && document.getElementById(
            "Joint_profile").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = sixty_persant
                  value1 = sixty_persant
        }
        if (document.getElementById("Joint_buying2").value == "0" && document.getElementById("Joint_profile2")
        .value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = sixty_persant;
                  value2 = sixty_persant;
        } else if (document.getElementById("Joint_buying2").value == "1" && document.getElementById(
            "Joint_profile2").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = sixty_persant
                  value2 = sixty_persant;
        } else if (document.getElementById("Joint_buying2").value == "2" && document.getElementById(
            "Joint_profile2").value == "3") {
         let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_persant
                  value2 = sixty_persant;
        } else if (document.getElementById("Joint_buying2").value == "3" && document.getElementById(
            "Joint_profile2").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_persant
                  value2 = sixty_persant;
        }
        // 4 
        if (document.getElementById("Joint_buying1").value == "0" && document.getElementById("Joint_profile")
        .value == "3") {
   let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value1 = sixty_five_persant;
        } else if (document.getElementById("Joint_buying1").value == "1" && document.getElementById(
            "Joint_profile").value == "3") {
   let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value1 = sixty_five_persant;
        } else if (document.getElementById("Joint_buying1").value == "2" && document.getElementById(
            "Joint_profile").value == "3") {
   let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = sixty_five_persant;
                  value1 = sixty_five_persant;
        } else if (document.getElementById("Joint_buying1").value == "3" && document.getElementById(
            "Joint_profile").value == "3") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value1 = sixty_five_persant;
        }
        if (document.getElementById("Joint_buying2").value == "0" && document.getElementById("Joint_profile2")
        .value == "3") {
         let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value2 = sixty_five_persant;
        } else if (document.getElementById("Joint_buying2").value == "1" && document.getElementById(
            "Joint_profile2").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value2 = sixty_five_persant;
        } else if (document.getElementById("Joint_buying2").value == "2" && document.getElementById(
            "Joint_profile2").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value2 = sixty_five_persant;
        } else if (document.getElementById("Joint_buying2").value == "3" && document.getElementById(
            "Joint_profile2").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value2 = sixty_five_persant;
        }

          alert(value1);
     alert(value2);

        let maxValue = Math.max(value1, value2);
         absd.value = maxValue;
        console.log('value====>>', absd.value)
        // document.getElementById("absd").innerHTML(maxValue)
        // alert(maxValue);
    }
    
    let joint_others = function sjCitijan(twentypersant, thertypersant, fivepersant, thirtyfive, sixty_persant, sixty_five_persant) {
        // 1 sjcitijan
        if (document.getElementById("others_buying").value == "0" && document.getElementById("Joint_profile")
        .value == "0") {
       // absd.value = "0";
        value1 =0;
        } else if (document.getElementById("others_buying").value == "1" && document.getElementById(
            "Joint_profile").value == "0") {
                let mainamountval=document.getElementById("amount_value").value;
                let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
                let newbsdval=calculateBSD_new_price(amount_value_main);
                //alert(newbsdval)
                let five = parseInt(document.getElementById("five_persant").value);
                let total_bsd = twentypersant + bsd;
                let total_sd_new = newbsdval+twentypersant;
                let latest_sd_new = total_sd_new+twentypersant;
                let total_cpf = latest_sd_new+five;
                document.getElementById("bsd").value = total_sd_new;
                document.getElementById("total_sd").value = latest_sd_new;
                document.getElementById("total_cpf").value = total_cpf;
              //  absd.value = twentypersant;
                value1 = twentypersant;
        } else if (document.getElementById("others_buying").value == "2" && document.getElementById(
            "Joint_profile").value == "0") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
               // alert(newbsdval)
                 let five = parseInt(document.getElementById("five_persant").value);
                  let total_bsd = twentypersant + bsd;
                  let total_sd_new = newbsdval+thertypersant;
                  let latest_sd_new = total_sd_new+thertypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                  document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thertypersant;
                  value1 = thertypersant;
        } else if (document.getElementById("others_buying").value == "3" && document.getElementById(
            "Joint_profile").value == "0") {
                 let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
               // alert(newbsdval)
                 let five = parseInt(document.getElementById("five_persant").value);
                  let total_bsd = twentypersant + bsd;
                  let total_sd_new = newbsdval+thertypersant;
                  let latest_sd_new = total_sd_new+thertypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                  document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thertypersant;
                  value1 = thertypersant;
        }
        if (document.getElementById("others_buying2").value == "0" && document.getElementById("other_profile2")
        .value == "0") {
      //  absd.value = "0";
        value2 = 0;
        } else if (document.getElementById("others_buying2").value == "1" && document.getElementById(
            "other_profile2").value == "0") {
                value2 = twentypersant;
                 let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
               // alert(newbsdval)
                 let five = parseInt(document.getElementById("five_persant").value);
                  let total_bsd = twentypersant + bsd;
                  let total_sd_new = newbsdval+twentypersant;
                  let latest_sd_new = total_sd_new+twentypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                  document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = twentypersant;
        } else if (document.getElementById("others_buying2").value == "2" && document.getElementById(
            "other_profile2").value == "0") {
               let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
               // alert(newbsdval)
                 let five = parseInt(document.getElementById("five_persant").value);
                  let total_bsd = twentypersant + bsd;
                  let total_sd_new = newbsdval+thertypersant;
                  let latest_sd_new = total_sd_new+thertypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                  document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thertypersant;
                  value2 = thertypersant;
        } else if (document.getElementById("others_buying2").value == "3" && document.getElementById(
            "other_profile2").value == "0") {
              let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
               // alert(newbsdval)
                 let five = parseInt(document.getElementById("five_persant").value);
                  let total_bsd = twentypersant + bsd;
                  let total_sd_new = newbsdval+thertypersant;
                  let latest_sd_new = total_sd_new+thertypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                  document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = thertypersant;
                  value2 = thertypersant;
        }
        // 2 singa pur pr
        if (document.getElementById("others_buying").value == "0" && document.getElementById("Joint_profile")
        .value == "1") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+fivepersant;
            //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +fivepersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
               //   absd.value = fivepersant;
                  value1 = fivepersant;
        } else if (document.getElementById("others_buying").value == "1" && document.getElementById(
            "Joint_profile").value == "1") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thertypersant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thertypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = thertypersant;
                  value1 = thertypersant;
        } else if (document.getElementById("others_buying").value == "2" && document.getElementById(
            "Joint_profile").value == "1") {
                  let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thirtyfive;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thirtyfive;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thirtyfive;
                  value1 = thertypersant;
        } else if (document.getElementById("others_buying").value == "3" && document.getElementById(
            "Joint_profile").value == "1") {
                  let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thirtyfive;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thirtyfive;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thirtyfive;
                  value1 = thertypersant;
        }
        if (document.getElementById("others_buying2").value == "0" && document.getElementById("other_profile2")
        .value == "1") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+fivepersant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +fivepersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = fivepersant;
                  value2 = fivepersant;
        } else if (document.getElementById("others_buying2").value == "1" && document.getElementById(
            "other_profile2").value == "1") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thertypersant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thertypersant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thertypersant;
                  value2 = thertypersant;
        } else if (document.getElementById("others_buying2").value == "2" && document.getElementById(
            "other_profile2").value == "1") {
                let five = parseInt(document.getElementById("five_persant").value);
                let mainamountval=document.getElementById("amount_value").value;
                let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
                let newbsdval=calculateBSD_new_price(amount_value_main);
                let total_sd_new = newbsdval+twentypersant;
                let latest_sd_new=total_sd_new+thirtyfive;
                let total_cpf = latest_sd_new+five;
                document.getElementById("bsd").value = thirtyfive + bsd;
                document.getElementById("total_sd").value = latest_sd_new;
                document.getElementById("total_cpf").value = total_cpf;
               // absd.value = thirtyfive;
                value2 = thirtyfive;
        } else if (document.getElementById("others_buying2").value == "3" && document.getElementById(
            "other_profile2").value == "1") {
                let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+thirtyfive;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +thirtyfive;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = thirtyfive;
                  value2 = thirtyfive;
        }
        // 3  forginner 
        if (document.getElementById("others_buying").value == "0" && document.getElementById("Joint_profile")
        .value == "2") {
             let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = sixty_persant;
                  value1 = sixty_persant
        } else if (document.getElementById("others_buying").value == "1" && document.getElementById(
            "Joint_profile").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                //  absd.value = sixty_persant
                  value1 = sixty_persant
        } else if (document.getElementById("others_buying").value == "2" && document.getElementById(
            "Joint_profile").value == "3") {
       let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_persant
                  value1 = sixty_persant
        } else if (document.getElementById("others_buying").value == "3" && document.getElementById(
            "Joint_profile").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = sixty_persant
                  value1 = sixty_persant
        }
        if (document.getElementById("others_buying2").value == "0" && document.getElementById("other_profile2")
        .value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = sixty_persant;
                  value2 = sixty_persant;
        } else if (document.getElementById("others_buying2").value == "1" && document.getElementById(
            "other_profile2").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                  //absd.value = sixty_persant
                  value2 = sixty_persant;
        } else if (document.getElementById("others_buying2").value == "2" && document.getElementById(
            "other_profile2").value == "3") {
         let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_persant
                  value2 = sixty_persant;
        } else if (document.getElementById("others_buying2").value == "3" && document.getElementById(
            "other_profile2").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_persant
                  value2 = sixty_persant;
        }
        // 4 
        if (document.getElementById("others_buying").value == "0" && document.getElementById("Joint_profile")
        .value == "3") {
   let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value1 = sixty_five_persant;
        } else if (document.getElementById("others_buying").value == "1" && document.getElementById(
            "Joint_profile").value == "3") {
   let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value1 = sixty_five_persant;
        } else if (document.getElementById("others_buying").value == "2" && document.getElementById(
            "Joint_profile").value == "3") {
   let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value1 = sixty_five_persant;
        } else if (document.getElementById("others_buying").value == "3" && document.getElementById(
            "Joint_profile").value == "3") {
   let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value1 = sixty_five_persant;
        }
        if (document.getElementById("others_buying2").value == "0" && document.getElementById("other_profile2")
        .value == "3") {
         let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value2 = sixty_five_persant;
        } else if (document.getElementById("others_buying2").value == "1" && document.getElementById(
            "other_profile2").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value2 = sixty_five_persant;
        } else if (document.getElementById("others_buying2").value == "2" && document.getElementById(
            "other_profile2").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value2 = sixty_five_persant;
        } else if (document.getElementById("others_buying2").value == "3" && document.getElementById(
            "other_profile2").value == "3") {
        let mainamountval=document.getElementById("amount_value").value;
               let numnew = mainamountval;
                let amount_value_main = numnew.split(',').join('');
               let newbsdval=calculateBSD_new_price(amount_value_main);
                 let five = parseInt(document.getElementById("five_persant").value);
                    let total_sd_new = newbsdval+sixty_five_persant;
                    //alert(newbsdval)
                  let total_bsd = twentypersant + newbsdval;
                  let latest_sd_new=total_bsd +sixty_five_persant;
                  let total_cpf = latest_sd_new+five;
                  document.getElementById("bsd").value = total_sd_new;
                   document.getElementById("total_sd").value = latest_sd_new;
                  document.getElementById("total_cpf").value = total_cpf;
                 // absd.value = sixty_five_persant;
                  value2 = sixty_five_persant;
        }

          alert(value1);
     alert(value2);

        let maxValue = Math.max(value1, value2);
         absd.value = maxValue;
        console.log('value====>>', absd.value)
        // document.getElementById("absd").innerHTML(maxValue)
        // alert(maxValue);
    }
    
    function proceed_btn(elem) {
        if (document.getElementById("current_date").value != "") {
        if (elem == '1') {
            let string_with_coomma = document.getElementById("amount_value").value;
            let num = string_with_coomma;
            let amount_value = num.split(',').join('');
            let twentypersant = amount_value * 20 / 100;
            let thertypersant = (amount_value * 30) / 100;
            let fivepersant = (amount_value * 5) / 100;
            let thirty = (amount_value * 30) / 100;
            let thirtyfive = (amount_value * 35) / 100;
            let sixty_persant = (amount_value * 60) / 100;
            let sixty_five_persant = (amount_value * 65) / 100;
            let bsd =parseInt(document.getElementById("bsd").value);
            let total_cpf = parseInt(document.getElementById("total_cpf").value);    
            let total_sd =parseInt(document.getElementById("total_sd").value);
             let current = 1;
            single(twentypersant, thertypersant, fivepersant, thirty, thirtyfive, sixty_persant, sixty_five_persant,bsd,total_cpf,total_sd,current);
            jQuery('.proceed').removeClass('show_pop');
        }
        if (elem == 2) {
            let string_with_coomma = document.getElementById("amount_value").value;
            let num = string_with_coomma;
            let amount_value = num.split(',').join('');
            let twentypersant = amount_value * 20 / 100;
            let thertypersant = (amount_value * 30) / 100;
            let fifty_persant = (amount_value * 50) / 100;
             let fivepersant = (amount_value * 5) / 100;
            let thirtyfive = (amount_value * 35) / 100;
            let sixty_persant = (amount_value * 60) / 100;
            let sixty_five_persant = (amount_value * 65) / 100;
            let bsd =parseInt(document.getElementById("bsd").value);
            let total_cpf = parseInt(document.getElementById("total_cpf").value);    
            let total_sd =parseInt(document.getElementById("total_sd").value);
            joint(twentypersant, thertypersant, fifty_persant,fivepersant, thirtyfive, sixty_persant, sixty_five_persant,bsd,total_cpf,total_sd);
        }
        if (elem == 3) {
            let string_with_coomma = document.getElementById("amount_value").value;
            let num = string_with_coomma;
            let amount_value = num.split(',').join('');
            let twentypersant = amount_value * 20 / 100;
            let thertypersant = (amount_value * 30) / 100;
            let fivepersant = (amount_value * 5) / 100;
            let thirtyfive = (amount_value * 35) / 100;
            let sixty_persant = (amount_value * 60) / 100;
            let sixty_five_persant = (amount_value * 65) / 100;
            joint_others(twentypersant, thertypersant, fivepersant, thirtyfive, sixty_persant, sixty_five_persant);
        }
        }
    }
    function calculateBSD_new_price(price) {
        let bsd = 0;
        if (price <= 180000) {
            bsd = price * 0.01;
        } else if (price <= 360000) {
            bsd = (price - 180000) * 0.02 + (180000 * 0.01);
        } else if (price <= 1000000) {
            bsd = (price - 360000) * 0.03 + (180000 * 0.01) + (180000 * 0.02);
        } else {
            bsd = (price - 1000000) * 0.04 + (640000 * 0.03) + (180000 * 0.02) + (180000 * 0.01);
        }
        return bsd;
        }
    function change_amount() {
        let string_with_coomma = document.getElementById("amount_value").value;
        let num = string_with_coomma;
        let amount_value = num.split(',').join('');
        let dipositamount_result = (amount_value * 5) / 100;
        let cancellation_result = (amount_value * 1.25) / 100;
        let Refundable_result = (amount_value * 3.75) / 100;
        document.getElementById("diposit_amount").value = dipositamount_result.toFixed(2);
        document.getElementById("cancellation").value = cancellation_result.toFixed(2);
        document.getElementById("refundable").value = Refundable_result.toFixed(2);
    
        let currentDateValue = document.getElementById("current_date").value;
        if (currentDateValue) {
        let currentDate = new Date(currentDateValue);
        // Adding 3 days
        let threeDaysLater = new Date(currentDate);
        threeDaysLater.setDate(currentDate.getDate() + 3);
        let prev_three_day = document.getElementById("three_day").value = threeDaysLater.toISOString().split(
            'T')[0];
        // this is the script allow date picker 
        let min_date_pcker_threeDaysLater = new Date(prev_three_day);
        let prev_three_day1 = min_date_pcker_threeDaysLater.toISOString().split('T')[0];
        min_date_pcker_threeDaysLater.setDate(min_date_pcker_threeDaysLater.getDate() + 1);
        document.getElementsByName("three_date")[0].setAttribute("min", prev_three_day1);
        let max_three_day1 = new Date(prev_three_day);
        max_three_day1.setDate(max_three_day1.getDate() + 11);
        let prev_three_day2 = max_three_day1.toISOString().split('T')[0];
        max_three_day1.setDate(max_three_day1.getDate() + 9);
        document.getElementsByName("three_date")[0].setAttribute("max", prev_three_day2);
        //  Adding 21 days (3 weeks)
        let min_date_pcker_twentyDaysLater = new Date(min_date_pcker_threeDaysLater);
        let min_prev_twenty_day1 = min_date_pcker_twentyDaysLater.toISOString().split('T')[0];
        min_date_pcker_twentyDaysLater.setDate(min_date_pcker_twentyDaysLater.getDate());
        document.getElementsByName("two_weeks")[0].setAttribute("min", min_prev_twenty_day1);
        let twoWeeksLater = new Date(threeDaysLater);
        twoWeeksLater.setDate(threeDaysLater.getDate() + 21);
        document.getElementById("two_weeks").value = twoWeeksLater.toISOString().split('T')[0];
    
        // Adding another 14 days
        let completionDate = new Date(twoWeeksLater);
        completionDate.setDate(twoWeeksLater.getDate() + 14);
        document.getElementById("complation").value = completionDate.toISOString().split('T')[0];
        // Setting 8-week date
        let eightWeeksLater = new Date(currentDate);
        eightWeeksLater.setDate(currentDate.getDate() + 56);
        document.getElementById("eight_weeks").value = eightWeeksLater.toISOString().split('T')[0];
    
        // Foundation stage (6 months from current date)
        let stage = new Date(currentDate);
        stage.setDate(stage.getDate() + 180); // 6 months
        document.getElementById("stage").value = stage.toISOString().split('T')[0];
    
        // 5% calculation
        let amount_value_five_persant = (amount_value * 5) / 100;
        document.getElementById("five_persant").value = amount_value_five_persant.toFixed(2);
    
        //  CPF total calculation
        }
        
        // BSD calculation
        function calculateBSD(price) {
        let bsd = 0;
        if (price <= 180000) {
            bsd = price * 0.01;
        } else if (price <= 360000) {
            bsd = (price - 180000) * 0.02 + (180000 * 0.01);
        } else if (price <= 1000000) {
            bsd = (price - 360000) * 0.03 + (180000 * 0.01) + (180000 * 0.02);
        } else {
            bsd = (price - 1000000) * 0.04 + (640000 * 0.03) + (180000 * 0.02) + (180000 * 0.01);
        }
        return bsd;
        }
        const bsdValue = calculateBSD(amount_value);
        document.getElementById("bsd1").value = `${bsdValue.toFixed(2)}`;
        document.getElementById("bsd").value = bsdValue.toFixed(2);
        // Other amounts
        let fifteenPercent = (amount_value * 15) / 100;
        document.getElementById("fifteen_persant").value = fifteenPercent.toFixed(2);
        let twentyPercent = (amount_value * 20) / 100;
  
        let total_outlay = bsdValue+twentyPercent;
        document.getElementById("total_sd").value = total_outlay.toFixed(2);
        let amount_value_five_persant = (amount_value * 5) / 100;
        document.getElementById("total_cpf").value = (total_outlay + amount_value_five_persant).toFixed(2);
        document.getElementById("launch_date").value = currentDateValue;
    }
    
    function openCity(evt, cityName) {
        let tabcontent = document.getElementsByClassName("content_tab");
        for (let i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
        }
    
        let tablinks = document.getElementsByClassName("tab_button");
        for (let i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
    
        document.getElementById(cityName).style.display = "block";
        evt.currentTarget.className += " active";
    }
    
    function amount_value_func() {
        let date = document.getElementById("current_date").value;
        if (date != '') {
        change_amount();
        function getIdsByClass(className) {
            let elements = document.getElementsByClassName(className);
            let ids = [];
            for (let i = 0; i < elements.length; i++) {
            if (elements[i].id) {
                ids.push(elements[i].id);
            }
            }
            return ids;
        }
        // Get active IDs
        let ids = getIdsByClass("active");
        let idsString = ids.join(', ');
        let total_quality = parseInt(document.getElementById("total_sd").value);
        let absd_val = parseInt(document.getElementById("absd").value);
        if (isNaN(total_quality) || isNaN(absd_val)) {
            console.error("Invalid input values. Make sure both total_sd and absd are valid numbers.");
            return; 
        }
        if (idsString === "joint_button_tab") {
            proceed_btn(2);
        } else if (idsString === "joint_others_button_tab") {
            proceed_btn(3);
        } else {
            proceed_btn(1);
        }
        // Update total_sd
        }
    }
    
    function updateTextView(_obj) {
        let num = getNumber(_obj.val());
    
        if (num == 0) {
        _obj.val('');
        } else {
        _obj.val(num.toLocaleString());
        }
    }
    
    function getNumber(_str) {
        let arr = _str.split('');
        let out = new Array();
        for (let cnt = 0; cnt < arr.length; cnt++) {
        if (isNaN(arr[cnt]) == false) {
            out.push(arr[cnt]);
        }
        }
        return Number(out.join(''));
    }
    jQuery(document).ready(function () {
        jQuery('#amount_value').on('keyup', function () {
        updateTextView(jQuery(this));
        });
    });
    // comma sepretor nin input end script 
    </script>
    <script>
    jQuery('.more_options').click(function () {
        jQuery('.more_option_model').addClass('show_pop');
        jQuery('html').removeClass('over_hide');
    });
    jQuery('.more_option_model').click(function () {
        jQuery(this).removeClass('show_pop');
        jQuery('html').removeClass('over_hide');
    });
    jQuery('.model_inner').click(function () {
        event.stopPropagation();
    });
    </script>
  <!-- second calculator -->
  <script>
    const paymentData = [{
        stage: "10% FOUNDATION",
        period: "6 Months",
        loanPercent: 5,
        interestRate: 0.027,
        principalPercent: 0.022
    },
    {
        stage: "10% FRAMEWORK",
        period: "6 Months",
        loanPercent: 10,
        interestRate: 0.04,
        principalPercent: 0.033
    },
    {
        stage: "5% WALL",
        period: "3 Months",
        loanPercent: 5,
        interestRate: 0.10,
        principalPercent: 0.088
    },
    {
        stage: "5% CEILING",
        period: "3 Months",
        loanPercent: 5,
        interestRate: 0.13,
        principalPercent: 0.11
    },
    {
        stage: "5% DOOR & WINDOW",
        period: "3 Months",
        loanPercent: 5,
        interestRate: 0.157,
        principalPercent: 0.14
    },
    {
        stage: "5% CAR PARK",
        period: "3 Months",
        loanPercent: 5,
        interestRate: 0.18,
        principalPercent: 0.15
    },
    {
        stage: "25% TOP",
        period: "12 Months",
        loanPercent: 25,
        interestRate: 0.062,
        principalPercent: 0.053
    },
    {
        stage: "15% CSC",
        period: "12 Months",
        loanPercent: 15,
        interestRate: 0.13,
        principalPercent: 0.11
    }
    ];
  
    function calculatePayments(bucPrice) {
    return paymentData.map(item => {
        const loanDisbursed = (item.loanPercent / 100) * bucPrice;
        const monthlyInterest = (loanDisbursed * item.interestRate) / 12; // Monthly interest
        const monthlyPrincipal = (loanDisbursed * item.principalPercent) / 12; // Monthly principal
        const monthlyRepayment = (monthlyInterest + monthlyPrincipal);
  
        return {
        ...item,
        loanDisbursed: Math.round(loanDisbursed.toFixed(2)),
        monthlyInterest: Math.round(monthlyInterest.toFixed(2)),
        monthlyPrincipal: Math.round(monthlyPrincipal.toFixed(2)),
        monthlyRepayment: monthlyRepayment.toFixed(0)
        };
    });
    }
  
    function renderTable(payments) {
    const tableBody = document.getElementById('paymentTable');
    tableBody.innerHTML = '';
  
    payments.forEach(item => {
        const row = document.createElement('tr');
        row.innerHTML = `
                    <td>${item.stage}</td>
                    <td>${item.period}</td>
                    <td>$0</td>
                    <td>${item.loanPercent}%</td>
                    <td>$${item.loanDisbursed}</td>
                    <td>$${item.monthlyInterest}</td>
                    <td>$${item.monthlyPrincipal}</td>
                    <td>$${item.monthlyRepayment}</td>
                `;
  
        tableBody.appendChild(row);
    });
    }
  
    document.getElementById('bucInput').addEventListener('input', function () {
    if (this.value == '') {
        document.getElementById("error_message").innerHTML = "Please Enter the Value!";
    } else {
        document.getElementById("error_message").innerHTML = " ";
        const bucPrice = parseFloat(this.value);
        const payments = calculatePayments(bucPrice);
        renderTable(payments);
    }
    });
    const initialBUCPrice = parseFloat(document.getElementById('bucInput').value);
    const initialPayments = calculatePayments(initialBUCPrice);
    renderTable(initialPayments);
  </script>
    
<?php 
    return ob_get_clean();
}
add_shortcode('project_investment_calculator', 'project_investment_calculator');
  
